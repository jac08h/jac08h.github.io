<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill Splitter</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1 class="title">Bill Splitter</h1>
        <div class="card">
            <div class="description">
                <p>Calculate how to split bill(s) between people to minimize the number of transactions.</p>
            </div>
            <h2 class="subtitle">People</h2>
            <div class="headers">
                <div>Person</div>
                <div>Total Paid</div>
                <div id="targetHeader">Target percentage</div>
            </div>
            <div id="people">
                <div class="person-inputs">
                    <input type="text" placeholder="Name" value="A">
                    <div class="total-amount">0.00</div>
                    <input type="number" step="1" placeholder="e.g. 50" min="0" max="100" class="target">
                </div>
                <div class="person-inputs">
                    <input type="text" placeholder="Name" value="B">
                    <div class="total-amount">0.00</div>
                    <input type="number" step="1" placeholder="e.g. 50" min="0" max="100" class="target">
                </div>
            </div>
            <div class="input-group">
                <button onclick="addPerson()">Add</button>
                <button onclick="removePerson()">Remove</button>
            </div>
            <div class="target-type">
                <label>Target type:</label>
                <select id="targetType" onchange="switchTargetType()">
                    <option value="none">Equal split</option>
                    <option value="percentage">Percentage</option>
                    <option value="amount">Amount</option>
                </select>
            </div>


        </div>

        <div class="card">
            <h2 class="subtitle">Bills</h2>
            <div class="headers">
                <div>Person</div>
                <div>Amount</div>
                <div>Description (optional)</div>
            </div>
            <div class="transaction-input">
                <select id="transactionPerson">
                    <option value="">Select Person</option>
                </select>
                <input type="number" id="transactionAmount" placeholder="Amount" min="0" step="1" value="10">
                <input type="text" id="transactionDescription" placeholder="Description (optional)">
                <button onclick="addTransaction()">Add</button>
            </div>
            <div id="transactionsList"></div>
        </div>

        <div class="card">
            <button onclick="calculate()">Calculate Settlements</button>
            <div id="error" class="hidden"></div>
            <div id="results" class="hidden"></div>
        </div>

        <div class="card">
            <button id="toggleAlgorithm" onclick="toggleExplanation()">How it works â–¼</button>
            <div id="algorithmExplanation" class="algorithm-explanation hidden">
                <div class="algorithm-content">
                    <p>The algorithm works by repeatedly matching the person who owes the most money with the person who is owed the most. In each step, a payment is made between them using whichever amount is smaller - either what's owed or what's due. This ensures that at least one person's balance will be completely settled (reduced to zero) after each transfer. The process continues, matching the next highest debtor and creditor, until everyone's balance is zero and all debts are settled.</p>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>