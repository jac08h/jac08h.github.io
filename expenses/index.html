<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Sharing Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="card">
            <h2 class="title">Expense Sharing Calculator</h2>
            <p>Calculate the simplest way to settle shared expenses.</p>
        </div>
        <div class="card">
            <h2 class="subtitle">Participants</h2>
            <div class="headers">
                <div>Name</div>
                <div>Amount Paid</div>
                <div id="targetHeader">Share</div>
            </div>
            <div id="people">
                <div class="person-inputs">
                    <input type="text" placeholder="Name" value="A">
                    <div class="total-amount">0.00</div>
                    <input type="number" step="1" placeholder="e.g. 50" min="0" max="100" class="target">
                </div>
                <div class="person-inputs">
                    <input type="text" placeholder="Name" value="B">
                    <div class="total-amount">0.00</div>
                    <input type="number" step="1" placeholder="e.g. 50" min="0" max="100" class="target">
                </div>
            </div>
            <div class="input-group">
                <button onclick="addPerson()">Add</button>
                <button onclick="removePerson()">Remove</button>
            </div>
            <div class="target-type">
                <label>Target type:</label>
                <select id="targetType" onchange="switchTargetType()">
                    <option value="none">Equal split</option>
                    <option value="percentage">Percentage</option>
                    <option value="amount">Amount</option>
                </select>
            </div>


        </div>

        <div class="card">
            <h2 class="subtitle">Expenses</h2>
            <div class="headers">
                <div>Person</div>
                <div>Amount</div>
                <div>Description (optional)</div>
            </div>
            <div class="transaction-input">
                <select id="transactionPerson" required>
                    <option value="" disabled selected>Choose participant</option>
                </select>
                <input type="number" id="transactionAmount" placeholder="Enter amount" min="0" step="0.01" value="10">
                <input type="text" id="transactionDescription" placeholder="Add description (optional)">
                <button onclick="addTransaction()">Add</button>
            </div>
            <div id="transactionsList"></div>
        </div>

        <div class="card">
            <button onclick="calculate()">Calculate Settlements</button>
            <div id="error" class="hidden"></div>
            <div id="results" class="hidden"></div>
        </div>

        <div class="card">
            <button id="toggleAlgorithm" onclick="toggleExplanation()">How it works â–¼</button>
            <div id="algorithmExplanation" class="algorithm-explanation hidden">
                <div class="algorithm-content">
                    <p>The settlement algorithm works by matching the largest debtor with the largest creditor in each step. It transfers the smaller amount between what's owed and what's due, ensuring at least one balance is fully settled per transfer. This process repeats until all balances are zero.</p>

                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>